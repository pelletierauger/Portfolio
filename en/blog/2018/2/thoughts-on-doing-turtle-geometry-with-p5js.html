<!DOCTYPE html>
    <html>
    <head>
        <meta charset="UTF-8">
        <title>Guillaume Pelletier-Auger - Thoughts on doing Turtle geometry with p5.js</title>
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=4, user-scalable=yes" />
        <link href="../../../../style/style.css" rel="stylesheet" type="text/css">
        <link href="../../../../style/turtle-geometry.css" rel="stylesheet" type="text/css">
        
        <link href="https://fonts.googleapis.com/css?family=Inconsolata|EB+Garamond" rel="stylesheet">
        <link href="../../../../style/code.css" rel="stylesheet" type="text/css">
    </head><body>
    <nav>
        <h1><a href="../../../../">Guillaume Pelletier-Auger</a></h1>
        <ul>
            <li><a href="../../../../">Projects</a></li>
            <li class = "selected"><a href="../../../../en/blog/">Blog</a></li>
            <li><a href="../../../../en/about.html">About</a></li>
            <li><a href="../../../../fr/blog/2018/2/vers-la-geometrie-des-tortues.html">En &#8594; Fr</a></li>
        </ul>
    </nav>
    
            <article>
                <h2 class="with-date">Turtle geometry with <span class="lnum">p5</span>.js
</h2>
                <div class = "date">February 15, 2018</div>
                
<img src="../../../../images/thumbnails/turtle-geometry.jpg">
<!-- <p>
    <img class="inline-figure" src="../../../../images/thumbnails/turtle-geometry.jpg">
</p> -->
<p class="article-top">
    <span class="small-caps">In the Summer of 2017</span>, I read two books that changed my way of thinking about learning and education. <span class="italic">Mindstorms: Children, Computers and Powerful Ideas</span> and <span class="italic">The Children&rsquo;s Machine: Rethinking School in the Age of the Computer</span>, both written by Seymour Papert, make the argument that we need to think deeply about how computers can and will change how we learn. The first book, written in 1980, is a fiery and passionate invitation to experiment with computers, to build new computational tools that change how we learn and unite seemingly opposite endeavours like art and mathematics. The second book, written seventeen years later, is a more mature and reflective look on <span class="italic">what happened</span> with a bit of sadness in it but still quite a bit of passion, curiosity and openness.
</p>
<h3>What is Turtle geometry&nbsp;?</h3>
<p class="noindent">
    I want to make Turtle geometry with <span class="lnum">p5</span>.js. What would be the best way to do it&nbsp;? One important thing for me is to be able to <span class="italic">see the turtle move</span>. Seeing a whole drawing appear in a flash is a very different experience from seeing how it is made. I don&rsquo;t want to just see the result of the turtle walk, I want to see the walk itself.
</p>
<p>
    For example, the code below would draw a rectangle:
</p>
<pre><span class="Silentype">FORWARD 100
RIGHT 90
FORWARD 100
RIGHT 90
FORWARD 100
RIGHT 90
FORWARD 100
RIGHT 90
</span></pre>
<h3>Numerous ways to repeat things</h3>
<p class="noindent">
    In order to make programs much clearer to read and write, <span class="Silentype">LOGO</span> also had a <span class="Silentype">REPEAT</span> function. It would repeat every commands before the word <span class="Silentype">END</span>, the number of times that was indicated to the right of the command <span class="Silentype">REPEAT</span>. This is how we can draw our rectangle now:
</p>
<pre><span class="Silentype">REPEAT 4
    FORWARD 100
    RIGHT 90
END
</span></pre>
<p class="noindent">
    I always thought that JavaScript should have a simple <span class="inline-code">repeat</span> syntax. I first learned programming with HyperCard and thankfully it had one. I think a simple <span class="inline-code">repeat</span> syntax is a great learning tool for beginners. It&rsquo;s the friendliest approach possible to loops. Also, how often do we use a <span class="inline-code">for</span> loop just to repeat an action a fixed amount of times&nbsp;? The following syntax could be very useful:
</p>
<pre><code><span class="hljs-comment">// This is not correct JavaScript but maybe it should be:</span>
repeat <span class="hljs-number">4</span> {
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">"This is such a gentle introduction to looping!"</span>);
}</code></pre>
<!-- // This could also be done in this fantasy world:
var t = 40;
repeat t {
    console.log("My oh my, this is nice!");
}
// Also, why not that:
repeat Infinity {
    console.log("And Sisyphus watched his rock barrel down the hill.");
} -->
<p class="noindent">
    Is there some underlying reasons why this couldn&rsquo;t be done&nbsp;? Would it introduce any problem that I&rsquo;m unaware of&nbsp;? Or is it just <span class="italic">dumb&nbsp;?</span> Here is the code to my very simple proposal for a <span class="inline-code">repeat()</span> function that offers similar functionality:
</p>
<pre><code><span class="hljs-comment">// The repeat() function takes 2 arguments: </span>
<span class="hljs-comment">// n is the amount of times it should loop.</span>
<span class="hljs-comment">// f is the function to call n amount of times.</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">repeat</span>(<span class="hljs-params">n, f</span>) </span>{
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; n; i++) {
        <span class="hljs-comment">// We send the index i to the function, for optional use.</span>
        f(i);
    }
}</code></pre>
<p class="noindent">
    So now, our square can be drawn with this bit of code, which is quite close to its <span class="Silentype">LOGO</span> equivalent:
</p>
<pre><code>repeat(<span class="hljs-number">4</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    forward(<span class="hljs-number">100</span>);
    right(<span class="hljs-number">90</span>);
});</code></pre>
<p class="noindent">
    The <span class="inline-code">repeat()</span> function can also be nested at will:
</p>
<pre><code>repeat(<span class="hljs-number">4</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    forward(<span class="hljs-number">100</span>);
    right(<span class="hljs-number">90</span>);
    <span class="hljs-comment">//Â Let's draw a smaller square at each corner of the big square.</span>
    repeat(<span class="hljs-number">4</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        forward(<span class="hljs-number">10</span>);
        right(<span class="hljs-number">90</span>);
    });
});</code></pre>
<pre><code><span class="hljs-keyword">var</span> marguerite = <span class="hljs-keyword">new</span> Turtle({
    <span class="hljs-attr">awake</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">heading</span>: <span class="hljs-number">0</span>,
    <span class="hljs-attr">position</span>: <span class="hljs-keyword">new</span> p5.Vector(<span class="hljs-number">10</span>, <span class="hljs-number">0</span>),
    <span class="hljs-attr">instructions</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> s = <span class="hljs-number">10</span>;
        repeat(<span class="hljs-number">3</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            repeat(<span class="hljs-number">30</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                forward(s);
                right(<span class="hljs-number">20</span>);
                s += <span class="hljs-number">0.1</span>;
            });
            repeat(<span class="hljs-number">60</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                forward(s);
                left(<span class="hljs-number">20</span>);
                s += <span class="hljs-number">0.1</span>;
            });
        });
    }
});</code></pre>
<h3>Some concluding thoughts</h3>
<p class="noindent">
    Of course, there might be much better ways to do Turtle geometry with <span class="lnum">p5.js</span>.
</p>
            </article>
            <div id="footer">Guillaume Pelletier-Auger &mdash; 2016-2018
    </div>
    </body>
    </html>