<!-- year -->2018
<!-- month -->02
<!-- day -->15
<!-- style -->turtle-geometry
<!-- fr-title -->Vers la géométrie des tortues
<!-- fr-content -->
<p class="noindent">
    La géométrie des tortues, qu'en dire?
</p>
<!-- en-title -->Thoughts on doing Turtle geometry with p5.js
<!-- en-html-title -->Turtle geometry with <span class="lnum">p5</span>.js
<!-- en-content -->
<img src="../../../images/thumbnails/turtle-geometry.jpg">
<!-- <p>
    <img class="inline-figure" src="../../../images/thumbnails/turtle-geometry.jpg">
</p> -->
<p class="article-top">
    <sc>In the Summer of 2017</sc>, I read two books that changed my way of thinking about learning and education. <i>Mindstorms: Children, Computers and Powerful Ideas</i> and <i>The Children's Machine: Rethinking School in the Age of the Computer</i>, both written by Seymour Papert, make the argument that we need to think deeply about how computers can and will change how we learn. The first book, written in 1980, is a fiery and passionate invitation to experiment with computers, to build new computational tools that change how we learn and unite seemingly opposite endeavours like art and mathematics. The second book, written seventeen years later, is a more mature and reflective look on <i>what happened</i> with a bit of sadness in it but still quite a bit of passion, curiosity and openness.
</p>
<h3>What is Turtle geometry?</h3>
<p class="noindent">
    I want to make Turtle geometry with <span class="lnum">p5</span>.js. What would be the best way to do it? One important thing for me is to be able to <i>see the turtle move</i>. Seeing a whole drawing appear in a flash is a very different experience from seeing how it is made. I don't want to just see the result of the turtle walk, I want to see the walk itself.
</p>
<p>
    For example, the code below would draw a rectangle:
</p>
<pre><span class="Silentype">FORWARD 100
RIGHT 90
FORWARD 100
RIGHT 90
FORWARD 100
RIGHT 90
FORWARD 100
RIGHT 90
</span></pre>
<h3>Numerous ways to repeat things</h3>
<p class="noindent">
    In order to make programs much clearer to read and write, <span class="Silentype">LOGO</span> also had a <span class="Silentype">REPEAT</span> function. It would repeat every commands before the word <span class="Silentype">END</span>, the number of times that was indicated to the right of the command <span class="Silentype">REPEAT</span>. This is how we can draw our rectangle now:
</p>
<pre><span class="Silentype">REPEAT 4
    FORWARD 100
    RIGHT 90
END
</span></pre>
<p class="noindent">
    I always thought that JavaScript should have a simple <ic>repeat</ic> syntax. I first learned programming with HyperCard and thankfully it had one. I think a simple <ic>repeat</ic> syntax is a great learning tool for beginners. It's the friendliest approach possible to loops. Also, how often do we use a <ic>for</ic> loop just to repeat an action a fixed amount of times? The following syntax could be very useful:
</p>
<code>// This is not correct JavaScript but maybe it should be:
repeat 4 {
    console.log("This is such a gentle introduction to looping\!");
}
</code>
<!-- // This could also be done in this fantasy world:
var t = 40;
repeat t {
    console.log("My oh my, this is nice\!");
}
// Also, why not that:
repeat Infinity {
    console.log("And Sisyphus watched his rock barrel down the hill.");
} -->
<p class="noindent">
    Is there some underlying reasons why this couldn't be done? Would it introduce any problem that I'm unaware of? Or is it just <i>dumb?</i> Here is the code to my very simple proposal for a <ic>repeat()</ic> function that offers similar functionality:
</p>
<code>// The repeat() function takes 2 arguments: 
// n is the amount of times it should loop.
// f is the function to call n amount of times.
function repeat(n, f) {
    for (var i = 0; i < n; i++) {
        // We send the index i to the function, for optional use.
        f(i);
    }
}
</code>
<p class="noindent">
    So now, our square can be drawn with this bit of code, which is quite close to its <span class="Silentype">LOGO</span> equivalent:
</p>
<code>repeat(4, function() {
    forward(100);
    right(90);
});
</code>
<p class="noindent">
    The <ic>repeat()</ic> function can also be nested at will:
</p>
<code>repeat(4, function() {
    forward(100);
    right(90);
    // Let\'s draw a smaller square at each corner of the big square.
    repeat(4, function() {
        forward(10);
        right(90);
    });
});
</code>
<code>
var marguerite = new Turtle({
    awake: false,
    heading: 0,
    position: new p5.Vector(10, 0),
    instructions: function() {
        var s = 10;
        repeat(3, function() {
            repeat(30, function() {
                forward(s);
                right(20);
                s += 0.1;
            });
            repeat(60, function() {
                forward(s);
                left(20);
                s += 0.1;
            });
        });
    }
});
</code>
<h3>Some concluding thoughts</h3>
<p class="noindent">
    Of course, there might be much better ways to do Turtle geometry with <span class="lnum">p5.js</span>.
</p>